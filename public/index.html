<!DOCTYPE html>
<html>
<head>
  <title>Gestion des Rendez-vous</title>
  <link href="https://cdn.jsdelivr.net/npm/@fullcalendar/core@6.1.11/main.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/@fullcalendar/daygrid@6.1.11/main.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/@fullcalendar/timegrid@6.1.11/main.min.css" rel="stylesheet" />
</head>
<body>
  <div id="calendar"></div>

  <script src="https://cdn.jsdelivr.net/npm/@fullcalendar/core@6.1.11/main.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fullcalendar/daygrid@6.1.11/main.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fullcalendar/timegrid@6.1.11/main.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const calendarEl = document.getElementById('calendar');
      const calendar = new FullCalendar.Calendar(calendarEl, {
        initialView: 'timeGridWeek',
        events: fetch('/api/appointments', {
          headers: { 'Authorization': 'Bearer ' + '<ton_token>' } // Remplace par ton token
        })
        .then(response => response.json())
        .then(data => data.map(event => ({
          title: `${event.client.name} - ${event.professional.name}`,
          start: event.date,
          end: event.date // Ajoute une durée si nécessaire
        })))
      });
      calendar.render();
    });
  </script>
</body>
</html>